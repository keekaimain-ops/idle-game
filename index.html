<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flamingo Idle - Fitness Empire</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b9d, #ff9a8b, #ffd93d);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 90%;
            margin: 1rem;
        }

        .flamingo {
            font-size: 6rem;
            margin-bottom: 0.5rem;
            animation: idle-bob 3s ease-in-out infinite;
            cursor: default;
            user-select: none;
        }

        @keyframes idle-bob {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }

        .title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .currency-display {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .currency-label {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .currency-amount {
            font-size: 3rem;
            font-weight: bold;
            color: #ffd93d;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            font-family: 'Courier New', monospace;
        }

        .currency-icon {
            font-size: 2rem;
            margin-right: 0.5rem;
        }

        .rate-display {
            background: rgba(255, 215, 61, 0.2);
            border-radius: 25px;
            padding: 0.75rem 1.5rem;
            display: inline-block;
            margin-top: 1rem;
            border: 1px solid rgba(255, 215, 61, 0.4);
        }

        .rate-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .rate-amount {
            font-weight: bold;
            color: #ffd93d;
        }

        .info-section {
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .footer {
            margin-top: 1.5rem;
            font-size: 0.8rem;
            opacity: 0.6;
        }

        /* Floating currency animation */
        .float-currency {
            position: fixed;
            pointer-events: none;
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffd93d;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            animation: float-up 2s ease-out forwards;
            z-index: 1000;
        }

        @keyframes float-up {
            0% { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
            100% { 
                opacity: 0; 
                transform: translateY(-80px) scale(0.5); 
            }
        }

        @media (max-width: 480px) {
            .title { font-size: 1.5rem; }
            .currency-amount { font-size: 2rem; }
            .flamingo { font-size: 4rem; }
            .container { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="flamingo" id="flamingo">ðŸ¦©</div>
        
        <h1 class="title">Flamingo Idle</h1>
        
        <div class="currency-display">
            <div class="currency-label">Flamingo Bucks</div>
            <div class="currency-amount">
                <span class="currency-icon">ðŸ’°</span>
                <span id="currency">0</span>
            </div>
            
            <div class="rate-display">
                <span class="rate-label">Earning: </span>
                <span class="rate-amount">+<span id="rate">1</span>/sec</span>
            </div>
        </div>

        <div class="info-section">
            ðŸ¦© Your flamingos are working hard!<br>
            Watch your wealth grow automatically.
        </div>

        <div class="footer">
            <p>ðŸŽ® <strong>Keek Dev Studio</strong></p>
        </div>
    </div>

    <script>
        // Game State
        const STORAGE_KEY = 'flamingo_idle_state';
        
        let gameState = {
            currency: 0,
            rate: 1,
            lastUpdate: Date.now()
        };

        // DOM Elements
        const currencyDisplay = document.getElementById('currency');
        const rateDisplay = document.getElementById('rate');
        const flamingoEl = document.getElementById('flamingo');

        // Load saved state from localStorage
        function loadState() {
            try {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    const parsed = JSON.parse(saved);
                    gameState.currency = parsed.currency || 0;
                    gameState.rate = parsed.rate || 1;
                    gameState.lastUpdate = parsed.lastUpdate || Date.now();
                    
                    // Calculate offline earnings
                    const now = Date.now();
                    const elapsed = Math.floor((now - gameState.lastUpdate) / 1000);
                    if (elapsed > 0) {
                        const offlineEarnings = elapsed * gameState.rate;
                        gameState.currency += offlineEarnings;
                        console.log(`Offline earnings: +${offlineEarnings} (${elapsed} seconds)`);
                    }
                }
            } catch (e) {
                console.error('Failed to load state:', e);
            }
        }

        // Save state to localStorage
        function saveState() {
            try {
                gameState.lastUpdate = Date.now();
                localStorage.setItem(STORAGE_KEY, JSON.stringify(gameState));
            } catch (e) {
                console.error('Failed to save state:', e);
            }
        }

        // Format large numbers
        function formatNumber(num) {
            if (num >= 1000000000) {
                return (num / 1000000000).toFixed(1) + 'B';
            } else if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return Math.floor(num).toLocaleString();
        }

        // Update display
        function updateDisplay() {
            currencyDisplay.textContent = formatNumber(gameState.currency);
            rateDisplay.textContent = formatNumber(gameState.rate);
        }

        // Show floating currency indicator
        function showFloatingCurrency() {
            const float = document.createElement('div');
            float.className = 'float-currency';
            float.textContent = '+' + formatNumber(gameState.rate);
            
            // Position near the flamingo
            const rect = flamingoEl.getBoundingClientRect();
            float.style.left = (rect.left + rect.width / 2 - 20) + 'px';
            float.style.top = (rect.top + rect.height / 2) + 'px';
            
            document.body.appendChild(float);
            
            setTimeout(() => float.remove(), 2000);
        }

        // Main game tick - runs every second
        function gameTick() {
            gameState.currency += gameState.rate;
            updateDisplay();
            showFloatingCurrency();
            saveState();
        }

        // Initialize game
        function init() {
            loadState();
            updateDisplay();
            
            // Start the idle generation loop
            setInterval(gameTick, 1000);
            
            // Auto-save every 30 seconds as backup
            setInterval(saveState, 30000);
            
            // Save on page unload
            window.addEventListener('beforeunload', saveState);
            
            console.log('Flamingo Idle initialized!');
            console.log('Current state:', gameState);
        }

        // Start the game
        init();
    </script>
</body>
</html>
